<div *ngIf="contact" class="row">

  <div *ngIf="contactForm" [formGroup]="contactForm" class="col-1">

    <mat-grid-list cols="4" rowHeight="50px">

      <mat-grid-tile colspan="2">
        <h3 mat-dialog-title>{{contactH3Label}}</h3>
      </mat-grid-tile>

      <mat-grid-tile colspan="1">
        <button *ngIf="['create'].indexOf(state) >= 0 && isUpdated && !contactForm.invalid" class="button" mat-raised-button (click)="saveContact()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-record-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
          </svg>
          <span> Enregistrer</span>
        </button>
      </mat-grid-tile>

      <mat-grid-tile colspan="1">
        <button *ngIf="['update', 'create'].indexOf(state) >= 0 && (isUpdated || !(subject || header))"
            class="button" mat-raised-button (click)="cancel()">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
          <span> Abandonner</span>
        </button>
      </mat-grid-tile>

    </mat-grid-list>

    <div class="mat-elevation-z8 detail">

      <mat-grid-list cols="{{sizeTable}}" rowHeight="70px" (window:resize)="onResizeTable($event)">

        <mat-grid-tile colspan="{{sizeTable}}">
          <mat-form-field enabled="'false'">
            <mat-label>Sujet</mat-label>
            <input matInput formControlName="subject" type="text" name="subject" placeholder="Sujet"/>
            <app-errors [field]="subject" [type]="'text'"></app-errors>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="2">
          <mat-form-field enabled="'false'">
            <mat-label>Prénom</mat-label>
            <input matInput formControlName="firstname" type="text" name="firstname" placeholder="Prénom"/>
            <app-errors [field]="firstname"></app-errors>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="2">
          <mat-form-field enabled="'false'">
            <mat-label>Nom</mat-label>
            <input matInput formControlName="lastname" type="text" name="lastname" placeholder="Nom"/>
            <app-errors [field]="lastname"></app-errors>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="2">
          <mat-form-field enabled="'false'">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" type="email" name="email" placeholder="Email"/>
            <app-errors [field]="email" [type]="'email'"></app-errors>
          </mat-form-field>
        </mat-grid-tile>

        <mat-grid-tile colspan="2">
          <mat-form-field enabled="'false'">
            <mat-label>Téléphone</mat-label>
            <input matInput formControlName="phone" type="phone" name="phone" placeholder="Téléphone"/>
            <app-errors [field]="phone" [type]="'phone'"></app-errors>
          </mat-form-field>
        </mat-grid-tile>

      </mat-grid-list>

      <mat-grid-list cols="4" rowHeight="300px">

        <mat-grid-tile colspan="4">
          <mat-form-field class="mat-area">
            <mat-label>Message</mat-label>
            <textarea class="textarea" matInput formControlName="message" type="text" name="message" placeholder="Message"></textarea>
            <app-errors [field]="message"></app-errors>
          </mat-form-field>
        </mat-grid-tile>

      </mat-grid-list>

    </div>

  </div>
</div>
